<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/basic.xhtml">
<ui:define name="title">#{msgs['customer.create.title']}</ui:define>
<ui:define name="header">#{msgs['customer.create.header']}</ui:define>
<ui:define name="content">
<h:form id="form">

    #{userBean.fetchAllRoles()}
    #{userBean.fetchAllCompanies()}

        <h:panelGrid id="grid" columns="3" cellpadding="5">
            <h:outputLabel for="name" value="#{msgs['label.name']}: " style="font-weight:bold"/>
            <p:inputText id="name" value="#{userBean.name}" required="true"/>
            <p:message for="name" />

            <h:outputLabel for="login_id" value="#{msgs['label.login_id']}: " style="font-weight:bold"/>
            <p:inputText id="login_id" value="#{userBean.login_id}" required="true"/>
            <p:message for="login_id" />

            <h:outputLabel for="email" value="#{msgs['label.email']}: " style="font-weight:bold"/>
            <p:inputText id="email" value="#{userBean.email}" required="true"/>
            <p:message for="email" />

            <h:outputLabel for="role" value="#{msgs['label.role']}: " style="font-weight:bold"/>
            <h:selectOneMenu id="role" value="#{userBean.role}" style="width:125px">
                <f:selectItem itemLabel="Customer" itemValue="customer" />
                <f:selectItem itemLabel="Editor" itemValue="editor"/>
                <f:selectItem itemLabel="Admin" itemValue="admin" />
            </h:selectOneMenu>
            <p:message for="role" />

            <h:outputLabel for="company" value="#{msgs['label.company']}: " style="font-weight:bold"/>
            <p:selectOneMenu id="company" value="#{userBean.companyName}" effect="fold" editable="true" required="true">
                <f:selectItems value="#{userBean.companies}"/>
            </p:selectOneMenu>
            <p:message for="company" />

            <h:outputLabel for="password" value="#{msgs['label.password']}: " style="font-weight:bold"/>
            <p:password id="password" value="#{userBean.password}" feedback="true" required="true"/>
            <p:message for="password" />

        </h:panelGrid>
        <br></br>
        <h:commandButton value="Benutzer anlegen" action="#{userBean.newUser(userBean.login_id, userBean.name, userBean.companyName, userBean.email, userBean.password,  userBean.role)}" style="margin-right:10px"/>
</h:form>
</ui:define>
</ui:composition>
</html>
